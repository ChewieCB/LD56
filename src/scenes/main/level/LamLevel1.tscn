[gd_scene load_steps=14 format=3 uid="uid://yofeqq7oovkd"]

[ext_resource type="PackedScene" uid="uid://naoexqroboiq" path="res://src/entities/camera/FollowCamera.tscn" id="1_4drgy"]
[ext_resource type="PackedScene" uid="uid://1bwiqif7rpyi" path="res://src/entities/swarm/SwarmDirector.tscn" id="2_pus5x"]
[ext_resource type="PackedScene" uid="uid://vuj168p2lkjx" path="res://src/entities/swarm/SwarmAgent/SwarmAgent.tscn" id="3_nflla"]
[ext_resource type="PackedScene" uid="uid://bm3vo4ufjrs7q" path="res://src/entities/enemies/basic_enemy/BasicEnemy.tscn" id="4_2twyy"]
[ext_resource type="PackedScene" uid="uid://djnji1v6uknmq" path="res://src/entities/environment/sealed_gate_input/SealedGateInput.tscn" id="5_4vus0"]
[ext_resource type="Texture2D" uid="uid://ch2pnl1s0tl1n" path="res://assets/sprite/placeholder/square.png" id="5_u0sb1"]
[ext_resource type="PackedScene" uid="uid://y766oblqkpts" path="res://src/entities/obstacle/core/Obstacle.tscn" id="6_k3n7i"]
[ext_resource type="Texture2D" uid="uid://q5pp8mltm8v8" path="res://assets/sprite/bg1.png" id="7_elaou"]
[ext_resource type="PackedScene" uid="uid://bcwkugn6v3oy7" path="res://addons/godot_state_charts/utilities/state_chart_debugger.tscn" id="8_jpskl"]
[ext_resource type="PackedScene" uid="uid://byj1y3wrwtdtq" path="res://src/ui/pause_ui/PauseUI.tscn" id="9_odwis"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sndwj"]
size = Vector2(64, 64)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_ofayr"]
vertices = PackedVector2Array(1783.22, 352.781, 1783.22, 124.383, 2178.39, 125.883, 2183.55, 507.508, 1614.18, 478.977, 1614.18, 655.719, 127.039, 650.109, 126, 345.492, 2184.07, 656.25, 1783.22, 656.25, 1783.22, 478.977, 1614.18, 352.781, 953.891, 121.25, 1614.18, 123.742, 126, 121.25)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 7), PackedInt32Array(3, 8, 9, 10), PackedInt32Array(0, 3, 10, 11), PackedInt32Array(11, 10, 4, 7), PackedInt32Array(12, 13, 11, 7, 14)])
outlines = Array[PackedVector2Array]([PackedVector2Array(96, 88, 96, 680, 2216, 688, 2208, 96)])
agent_radius = 30.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6fjwu"]
size = Vector2(63.9026, 68.9233)

[node name="Demo" type="Node2D"]
metadata/_edit_horizontal_guides_ = [43.0]
metadata/_edit_vertical_guides_ = [-153.0]

[node name="FollowCamera" parent="." node_paths=PackedStringArray("target") instance=ExtResource("1_4drgy")]
position = Vector2(176, 320)
target = NodePath("../SwarmDirector/TargetMarker")

[node name="SwarmDirector" parent="." instance=ExtResource("2_pus5x")]
position = Vector2(176, 384)
swarm_agent_scene = ExtResource("3_nflla")
swarm_agent_count = 0

[node name="BasicEnemy" parent="." instance=ExtResource("4_2twyy")]
position = Vector2(648, 152)

[node name="GateHolder" type="Node2D" parent="."]

[node name="SealedGateInput" parent="GateHolder" instance=ExtResource("5_4vus0")]
position = Vector2(1648, 280)

[node name="SealedGateDoor" type="Node2D" parent="GateHolder"]
position = Vector2(1696, 408)

[node name="Sprite2D" type="Sprite2D" parent="GateHolder/SealedGateDoor"]
self_modulate = Color(0, 1, 0.509617, 1)
scale = Vector2(1, 3.25)
texture = ExtResource("5_u0sb1")

[node name="StaticBody2D" type="StaticBody2D" parent="GateHolder/SealedGateDoor/Sprite2D"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="GateHolder/SealedGateDoor/Sprite2D/StaticBody2D"]
shape = SubResource("RectangleShape2D_sndwj")

[node name="ObstacleHolder" type="Node2D" parent="."]

[node name="Obstacle2" parent="ObstacleHolder" instance=ExtResource("6_k3n7i")]
position = Vector2(1632, 680)
rotation = 0.186735
scale = Vector2(0.564141, 0.564141)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_ofayr")

[node name="Geometry" type="Node2D" parent="NavigationRegion2D"]

[node name="Ground2" type="Sprite2D" parent="NavigationRegion2D/Geometry"]
self_modulate = Color(0.429688, 0.168879, 0, 1)
position = Vector2(1696, 664)
rotation = 1.5708
scale = Vector2(4.84803, 1.58203)
texture = ExtResource("5_u0sb1")

[node name="StaticBody2D" type="StaticBody2D" parent="NavigationRegion2D/Geometry/Ground2"]
collision_mask = 7

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/Geometry/Ground2/StaticBody2D"]
position = Vector2(-0.0243797, -1.70416)
shape = SubResource("RectangleShape2D_6fjwu")

[node name="Ground10" type="Sprite2D" parent="NavigationRegion2D/Geometry"]
self_modulate = Color(0.429688, 0.168879, 0, 1)
position = Vector2(1696, 168)
rotation = 1.5708
scale = Vector2(4.84803, 1.58203)
texture = ExtResource("5_u0sb1")

[node name="StaticBody2D" type="StaticBody2D" parent="NavigationRegion2D/Geometry/Ground10"]
collision_mask = 7

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/Geometry/Ground10/StaticBody2D"]
position = Vector2(-0.0243797, -1.70416)
shape = SubResource("RectangleShape2D_6fjwu")

[node name="WorldBoundary" type="Node2D" parent="NavigationRegion2D"]

[node name="Bound1" type="Sprite2D" parent="NavigationRegion2D/WorldBoundary"]
self_modulate = Color(0.429688, 0.168879, 0, 1)
position = Vector2(1152, 734)
scale = Vector2(36, 1.32031)
texture = ExtResource("5_u0sb1")

[node name="StaticBody2D" type="StaticBody2D" parent="NavigationRegion2D/WorldBoundary/Bound1"]
collision_layer = 8
collision_mask = 7

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/WorldBoundary/Bound1/StaticBody2D"]
position = Vector2(-0.0243721, -1.7041)
shape = SubResource("RectangleShape2D_6fjwu")

[node name="Bound2" type="Sprite2D" parent="NavigationRegion2D/WorldBoundary"]
self_modulate = Color(0.429688, 0.168879, 0, 1)
position = Vector2(1152.79, 47.9999)
scale = Vector2(35.9753, 1.32031)
texture = ExtResource("5_u0sb1")

[node name="StaticBody2D" type="StaticBody2D" parent="NavigationRegion2D/WorldBoundary/Bound2"]
collision_layer = 8
collision_mask = 6

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/WorldBoundary/Bound2/StaticBody2D"]
position = Vector2(-0.0243721, -1.7041)
shape = SubResource("RectangleShape2D_6fjwu")

[node name="Bound3" type="Sprite2D" parent="NavigationRegion2D/WorldBoundary"]
self_modulate = Color(0.429688, 0.168879, 0, 1)
position = Vector2(48.4428, 400.848)
rotation = 1.56736
scale = Vector2(10.4771, 1.32031)
texture = ExtResource("5_u0sb1")

[node name="StaticBody2D" type="StaticBody2D" parent="NavigationRegion2D/WorldBoundary/Bound3"]
collision_layer = 8
collision_mask = 6

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/WorldBoundary/Bound3/StaticBody2D"]
position = Vector2(-0.0243721, -1.7041)
shape = SubResource("RectangleShape2D_6fjwu")

[node name="Bound4" type="Sprite2D" parent="NavigationRegion2D/WorldBoundary"]
self_modulate = Color(0.429688, 0.168879, 0, 1)
position = Vector2(2256.43, 397.8)
rotation = 1.56736
scale = Vector2(10.3819, 1.32031)
texture = ExtResource("5_u0sb1")

[node name="StaticBody2D" type="StaticBody2D" parent="NavigationRegion2D/WorldBoundary/Bound4"]
collision_layer = 8
collision_mask = 6

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/WorldBoundary/Bound4/StaticBody2D"]
position = Vector2(-0.0243721, -1.7041)
shape = SubResource("RectangleShape2D_6fjwu")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -1

[node name="Background" type="TextureRect" parent="CanvasLayer"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = ExtResource("7_elaou")

[node name="CanvasLayer2" type="CanvasLayer" parent="."]
layer = 100

[node name="StateChartDebugger" parent="CanvasLayer2" instance=ExtResource("8_jpskl")]
visible = false
offset_left = 832.0
offset_bottom = -336.0
initial_node_to_watch = NodePath("../../BasicEnemy")

[node name="PauseUI" parent="CanvasLayer2" instance=ExtResource("9_odwis")]
visible = false

[editable path="SwarmDirector"]
